(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))B(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&B(m)}).observe(document,{childList:!0,subtree:!0});function l(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function B(c){if(c.ep)return;c.ep=!0;const a=l(c);fetch(c.href,a)}})();const n=document.querySelector("#brickBreaker"),E=document.querySelector("#livesCounter"),p=document.querySelector("#scoreCounter"),u=document.querySelector(".button-reset"),g=document.querySelector(".button-container__leftButton"),x=document.querySelector(".button-container__rightButton");if(!E)throw new Error("Error with lives counter selector");if(!p)throw new Error("Error with score counter selector");if(!g||!x||!u)throw new Error("Error with button selector");if(!n)throw new Error("Error with canvas selector");const t=n.getContext("2d");if(!t)throw new Error("Error with canvas selector");n.style.border="1px solid black";let d=3,v=0,y=!1,b=!1,S=!1,C=!1,L=!1,q;const h=100,P=20,T=50,w=8;n.width-h;const O=new Image;O.src="./src/assets/image.png";const o={x:n.width/2-h/2,y:n.height-P-T,width:h,height:P,speed:5},e={x:n.width/2,y:o.y-w,radius:w,speed:3,dx:3*(Math.random()*2-1),dy:-3};let i={rows:3,columns:5,width:55,height:20,offSetLeft:20,offSetTop:20,marginTop:40,fillColour:"#ffdc60",strokeColour:"#fff"},f=[];function R(){for(let r=0;r<i.rows;r++){f[r]=[];for(let s=0;s<i.columns;s++)f[r][s]={x:s*(i.offSetLeft+i.width)+i.offSetLeft,y:r*(i.offSetTop+i.height)+i.offSetTop+i.marginTop,status:!0}}}R();function _(){if(!t)throw new Error("Error with canvas selector");for(let r=0;r<i.rows;r++)for(let s=0;s<i.columns;s++){const l=f[r][s];l.status&&(t.fillStyle=i.fillColour,t.fillRect(l.x,l.y,i.width,i.height))}}function F(){if(!t)throw new Error("Error with canvas selector");t.fillStyle="#300066",t.fillRect(o.x,o.y,o.width,o.height),t.strokeStyle="#fff863",t.strokeRect(o.x,o.y,o.width,o.height)}function N(){if(!t)throw new Error("Error with canvas selector");t.beginPath(),t.arc(e.x,e.y,w,0,Math.PI*2),t.fillStyle="#5a00b4",t.fill(),t.strokeStyle="#ffdc60",t.stroke(),t.closePath()}function A(){F(),N(),_()}function W(){J(),D(),H(),K(),j(),M(),G(),Q()}function k(){if(!y){if(!n)throw new Error("Error with canvas selector");t==null||t.clearRect(0,0,n.width,n.height),t==null||t.drawImage(O,0,0),A(),W(),q=requestAnimationFrame(k)}}k();function H(){if(!n)throw new Error("Error with canvas selector");(e.x+e.radius>n.width||e.x-e.radius<0)&&(e.dx=-e.dx),e.y-e.radius<0&&(e.dy=-e.dy),e.y+e.radius>n.height&&(d=d-1,I())}function K(){e.x+e.radius>o.x&&e.x-e.radius<o.x+o.width&&e.y+e.radius>o.y&&(e.dy=-e.dy)}function j(){for(let r=0;r<i.rows;r++)for(let s=0;s<i.columns;s++){const l=f[r][s];l.status&&e.x+e.radius>l.x&&e.x-e.radius<l.x+i.width&&e.y+e.radius>l.y&&e.y-e.radius<l.y+i.height&&(l.status=!1,e.dy=-e.dy,v+=1)}}function M(){if(!E)throw new Error("Error with lives counter selector");E.textContent=d.toString()}function G(){if(!p)throw new Error("Error with lives counter selector");p.textContent=v.toString()}function I(){if(!n)throw new Error("Error with canvas selector");e.x=n.width/2,e.y=o.y-w,e.dx=3*(Math.random()*2-1),e.dy=-3}function z(){cancelAnimationFrame(q),d=3,v=0,f=[],R(),I(),M(),G(),y=!1,k()}function D(){e.x+=e.dx,e.y+=e.dy}function J(){if(!n)throw new Error("Error with canvas selector");(b||L)&&o.x+h<n.width?o.x+=o.speed:(S||C)&&o.x>0&&(o.x-=o.speed)}function Q(){if(d<=0){if(!u)throw new Error("Error with button selector");y=!0,u.className="button-reset show"}}document.addEventListener("keydown",function(r){r.keyCode==37?S=!0:r.keyCode==39&&(b=!0)});document.addEventListener("keyup",function(r){r.keyCode==37?S=!1:r.keyCode==39&&(b=!1)});g.addEventListener("touchstart",()=>C=!0);g.addEventListener("touchend",()=>C=!1);x.addEventListener("touchstart",()=>L=!0);x.addEventListener("touchend",()=>L=!1);u.addEventListener("click",()=>{z(),y=!1});
